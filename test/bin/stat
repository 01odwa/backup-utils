#!/usr/bin/env python3

# this is an unbelievably narrowly constrained used case:
# there's a single use of `stat` in this codebase:
# calling `stat -c %U` to find the username that owns
# a given path.
# But this fails on macOS because macOS uses BSD stat,
# not GNU stat. This very, VERY basic, very brittle
# wrapper is just to work around this one specific
# call to stat.

import sys
from os import stat
from pwd import getpwuid

def find_owner(filename):
    return getpwuid(stat(filename).st_uid).pw_name


print(find_owner(sys.argv[-1]))
